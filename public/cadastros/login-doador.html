<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login de Doador</title>
    <link rel="stylesheet" href="../css/partials/navbar.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/pages/cadastros/cadastros.css">
</head>
<body style="overflow: hidden;">
    
    <div class="flex" style="justify-content: space-between;">
        <!-- Texto lateral com opção de cadastrar como ONG -->

        <div class="container-lateral-desktop" style="border-radius: 0 100% 100% 0 ; background-image: linear-gradient(#e3b055, #f4863e,#f86d68);">
            <div style="padding-right: 35px;">
                <h1 style="font-family: 'Poppins Bold'">Olá, amigo!</h1>
                <p>Deseja fazer login como ONG?</p>
    
                <a href="login-ong.html" style="width: 100px; text-align: center;">Entrar</a>
            </div>

        </div>

        <main>
           
            <form action="" method="" id="form-cadastro">
                <h1 class="title">Login</h1>
                <p class="info-form">Não possui uma conta? <span><a href="cadastro-doador.html">Cadastre-se</a></span></p>

                <div class="input-container">
                    <label class="lbllogin" for="txtemail">E-mail</label>
                    <br>
                    <input class="inputtxt" type="txtemail" name="txtemail" id="txtemail" placeholder="">
                </div>

                <div class="input-container">
                    <label class="lbllogin" class="lbllogin" for="txtsenha">Senha</label>
                    <br>
                    <input class="inputtxt" type="password" name="txtsenha" id="txtsenha">
                </div>

                <!-- checkbox com opção de lembrar do login -->
                <div class="checkbox-container">
                    <input class="checkbox" type="checkbox" name="rememberme" id="rememberme">
                    <label for="rememberme" class="lblcheckbox">Lembre-se de mim</label>
                    <br>
                </div>
                <br>

                <button class="button" type="submit">Entrar</button>
            </form>
        </main>

    </div>


        <script>window.onload = async () => {
      try {
        const res = await fetch("/api/sessao", {
          method: "GET",
          credentials: "include" // necessário para enviar o cookie da sessão
        });

        if (res.ok) {
          alert("Você já está logado!");
          
          window.location.href = "../index.html";
          return;
        }

        console.log(data);
      } catch (err) {
        console.error("Erro ao carregar dados:", err);
      }
    };</script>
    <script src="../js/login-doador.js"></script>
</body>
</html>